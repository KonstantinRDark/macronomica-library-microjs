{"version":3,"sources":["../../src/examples/listen.js"],"names":["host","port","listen","prefix","micro","run","then","method","headers","body","JSON","stringify","cmd","response","json","log","info","result","end","catch","error"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,MAAMA,OAAO,WAAb;AACA,MAAMC,OAAO,IAAb;AACA,MAAMC,SAAS,EAAEF,IAAF,EAAQC,IAAR,EAAf;AACA,MAAME,SAAS,MAAf;AACA,MAAMC,QAAQ,gBAAM,EAAEF,MAAF,EAAN,CAAd;;AAEAE,MACGC,GADH,GAEGC,IAFH,CAEQ,MAAM;AACV,SAAO,yBAAO,WAAUN,IAAM,MAAIC,IAAM,KAAGE,MAAQ,GAA5C,EACL,EAAEI,QAAS,MAAX;AACEC,aAAS,EAAE,gBAAgB,kBAAlB,EADX;AAEEC,UAASC,KAAKC,SAAL,CAAe,EAAEC,KAAK,MAAP,EAAf;AAFX,GADK,EAKJN,IALI,CAKCO,YAAYA,SAASC,IAAT,EALb,EAMJR,IANI,CAMCF,MAAMW,GAAN,CAAUC,IANX,EAOJV,IAPI,CAOCW,UAAUb,MAAMc,GAAN,EAPX,EAQJC,KARI,CAQEf,MAAMW,GAAN,CAAUK,KARZ,CAAP;AASD,CAZH,EAaGD,KAbH,CAaSf,MAAMW,GAAN,CAAUK,KAbnB","file":"listen.js","sourcesContent":["import fetch from 'node-fetch';\nimport Micro from './../';\n\nconst host = '127.0.0.1';\nconst port = 8000;\nconst listen = { host, port };\nconst prefix = '/act';\nconst micro = Micro({ listen });\n\nmicro\n  .run()\n  .then(() => {\n    return fetch(`http://${ host }:${ port }${ prefix }`,\n      { method : 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body   : JSON.stringify({ cmd: 'ping' })\n      })\n      .then(response => response.json())\n      .then(micro.log.info)\n      .then(result => micro.end())\n      .catch(micro.log.error);\n  })\n  .catch(micro.log.error)\n;\n"]}