{"version":3,"sources":["../../src/examples/api.js"],"names":["host","port","listen","worker","name","level","add","cmd","request","act","client","api","run","then","log","info","end","catch","error"],"mappings":";;AAAA;;;;;;AAEA,MAAMA,OAAO,WAAb;AACA,MAAMC,OAAO,IAAb;AACA,MAAMC,SAAS,EAAEF,IAAF,EAAQC,IAAR,EAAf;;AAEA,MAAME,SAAS,gBAAM,EAAEC,MAAM,QAAR,EAAkBF,MAAlB,EAA0BG,mBAA1B,EAAN,EACZC,GADY,CACR,EAAEC,KAAK,MAAP,EADQ,EACSC,WAAWA,QAAQC,GAAR,CAAY,EAAEF,KAAK,MAAP,EAAZ,CADpB,EAEZD,GAFY,CAER,EAAEC,KAAK,MAAP,EAFQ,EAESC,WAAWA,QAAQC,GAAR,CAAY,EAAEF,KAAK,MAAP,EAAZ,CAFpB,CAAf;AAIA,MAAMG,SAAS,gBAAM,EAAEN,MAAM,QAAR,EAAkBC,mBAAlB,EAAN,EAA6CM,GAA7C,CAAiD,QAAjD,EAA2DT,MAA3D,CAAf;;AAEAC,OACGS,GADH,GAEGC,IAFH,CAEQV,UAAUO,OAAOE,GAAP,EAFlB,EAGGC,IAHH,CAGQ,MAAMH,OAAOD,GAAP,CAAW,EAAEE,KAAK,QAAP,EAAiBJ,KAAK,MAAtB,EAAX,CAHd,EAIGM,IAJH,CAIQH,OAAOI,GAAP,CAAWC,IAJnB,EAKGF,IALH,CAKQ,MAAMH,OAAOD,GAAP,CAAW,EAAEE,KAAK,QAAP,EAAiBJ,KAAK,OAAtB,EAA+BF,mBAA/B,EAAX,CALd,EAMGQ,IANH,CAMQH,OAAOI,GAAP,CAAWC,IANnB,EAOGF,IAPH,CAOQ,MAAMH,OAAOM,GAAP,EAPd,EAQGH,IARH,CAQQ,MAAMV,OAAOa,GAAP,EARd,EASGC,KATH,CASSP,OAAOI,GAAP,CAAWI,KATpB","file":"api.js","sourcesContent":["import Micro, { LEVEL_INFO, LEVEL_WARN } from './../';\n\nconst host = '127.0.0.1';\nconst port = 8000;\nconst listen = { host, port };\n\nconst worker = Micro({ name: 'worker', listen, level: LEVEL_INFO })\n  .add({ cmd: 'cmd1' }, request => request.act({ cmd: 'ping' }))\n  .add({ cmd: 'cmd2' }, request => request.act({ cmd: 'cmd1' }))\n  ;\nconst client = Micro({ name: 'client', level: LEVEL_INFO }).api('worker', listen);\n\nworker\n  .run()\n  .then(worker => client.run())\n  .then(() => client.act({ api: 'worker', cmd: 'cmd1' }))\n  .then(client.log.info)\n  .then(() => client.act({ api: 'worker', cmd: 'level', level: LEVEL_WARN }))\n  .then(client.log.info)\n  .then(() => client.end())\n  .then(() => worker.end())\n  .catch(client.log.error);"]}