{"version":3,"sources":["../../src/methods/del.js"],"names":["app","pin","route","manager","find","log","trace","action","name","id","remove"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA;;;;kBAIeA,OAAO;AACpB;;;;;AAKA,SAAQC,GAAD,IAAS;AACd,UAAMC,QAAQF,IAAIG,OAAJ,CAAYC,IAAZ,CAAiB,sBAASH,GAAT,IAAgB,sBAAOA,GAAP,CAAhB,GAA8BA,GAA/C,CAAd;;AAEA,QAAI,CAACC,KAAL,EAAY;AACVF,UAAIK,GAAJ,CAAQC,KAAR,CAAe,8BAAf,EAA8CL,GAA9C;AACA,aAAOD,GAAP;AACD;;AANa,UAQNO,MARM,GAQKL,KARL,CAQNK,MARM;;;AAUdP,QAAIK,GAAJ,CAAQC,KAAR,CAAe,uBAAsBC,OAAOC,IAAP,IAAeD,OAAOE,EAAI,GAA/D,EAAkE,EAAER,GAAF,EAAOM,MAAP,EAAlE;;AAEAP,QAAIG,OAAJ,CAAYO,MAAZ,CAAmBT,GAAnB;;AAEA,WAAOD,GAAP;AACD,GAfD;AAgBD,C","file":"del.js","sourcesContent":["import isString from 'lodash.isstring';\nimport jsonic from 'jsonic';\n\n/**\n * @param {app} app\n * @returns {function}\n */\nexport default app => {\n  /**\n   * @namespace app.del\n   * @param {string|object} pin\n   * @returns {app}\n   */\n  return (pin) => {\n    const route = app.manager.find(isString(pin) ? jsonic(pin) : pin);\n\n    if (!route) {\n      app.log.trace(`microjs.common.del.not-found`, pin);\n      return app;\n    }\n\n    const { action } = route;\n\n    app.log.trace(`microjs.common.del.${ action.name || action.id }`, { pin, action });\n\n    app.manager.remove(pin);\n\n    return app;\n  };\n};"]}