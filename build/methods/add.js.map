{"version":3,"sources":["../../src/methods/add.js"],"names":["pin","cb","action","id","name","app","log","info","manager","add","callback"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA;;;;kBAIe,eAAO;AACpB;;;;;;AAMA,SAAO,UAACA,GAAD,EAAMC,EAAN,EAAa;AAClB,QAAMC,SAAS;AACbC,UAAM,sBADO;AAEbC,YAAMH,GAAGG,IAAH,IAAW;AAFJ,KAAf;AAIAC,QAAIC,GAAJ,CAAQC,IAAR,uJAA2CL,MAA3C;;AAEAG,QAAIG,OAAJ,CAAYC,GAAZ,CAAgB,sBAAST,GAAT,IAAgB,sBAAOA,GAAP,CAAhB,GAA8BA,GAA9C,EAAmD,EAAEA,QAAF,EAAOE,cAAP,EAAeQ,UAAUT,EAAzB,EAAnD;;AAEA,WAAOI,GAAP;AACD,GAVD;AAWD,C","file":"add.js","sourcesContent":["import isString from 'lodash.isstring';\nimport jsonic from 'jsonic';\nimport genid from './../utils/genid';\n\n/**\n * @param {app} app\n * @returns {function}\n */\nexport default app => {\n  /**\n   * @namespace app.add\n   * @param {string|object} pin\n   * @param {function} cb\n   * @returns {app}\n   */\n  return (pin, cb) => {\n    const action = {\n      id  : genid(),\n      name: cb.name || ''\n    };\n    app.log.info(`Добавление нового маршрута`, action);\n\n    app.manager.add(isString(pin) ? jsonic(pin) : pin, { pin, action, callback: cb });\n\n    return app;\n  };\n};"]}