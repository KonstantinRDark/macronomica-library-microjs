{"version":3,"sources":["../../src/methods/add.js"],"names":["add","microjs","manager","pin","cb","action","id","name","log","info","callback"],"mappings":";;;;;kBAIwBA,G;;AAJxB;;;;AACA;;;;AACA;;;;;;AAEe,SAASA,GAAT,CAAaC,OAAb,EAAsBC,OAAtB,EAA+B;AAC5C,SAAO,UAACC,GAAD,EAAMC,EAAN,EAAa;AAClB,QAAMC,SAAS;AACbC,UAAM,sBADO;AAEbC,YAAMH,GAAGG,IAAH,IAAW;AAFJ,KAAf;;AAKAN,YAAQO,GAAR,CAAYC,IAAZ,uJAA+CJ,MAA/C;;AAEAH,YAAQF,GAAR,CAAY,sBAASG,GAAT,IAAgB,sBAAOA,GAAP,CAAhB,GAA8BA,GAA1C,EAA+C,EAAEA,QAAF,EAAOE,cAAP,EAAeK,UAAUN,EAAzB,EAA/C;;AAEA,WAAOH,OAAP;AACD,GAXD;AAYD","file":"add.js","sourcesContent":["import isString from 'lodash.isstring';\nimport jsonic from 'jsonic';\nimport genid from './../utils/genid';\n\nexport default function add(microjs, manager) {\n  return (pin, cb) => {\n    const action = {\n      id  : genid(),\n      name: cb.name || ''\n    };\n\n    microjs.log.info(`Добавление нового маршрута`, action);\n\n    manager.add(isString(pin) ? jsonic(pin) : pin, { pin, action, callback: cb });\n\n    return microjs;\n  };\n}"]}