{"version":3,"sources":["../../src/test/all.js"],"names":["HOST","PORT","prefix","micro","host","port","add","ping","console","log","run","then","method","headers","body","JSON","stringify","cmd","response","json","result","catch","error"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,IAAMA,OAAO,WAAb;AACA,IAAMC,OAAO,IAAb;AACA,IAAMC,SAAS,MAAf;;AAEA,IAAMC,QAAQ,gBAAM,EAAEC,MAAMJ,IAAR,EAAcK,MAAMJ,IAApB,EAAN,EACXK,GADW,CACP,UADO,EACK,SAASC,IAAT,GAAgB;AAC/BC,UAAQC,GAAR,CAAY,MAAZ;AACA,SAAO,MAAP;AACD,CAJW,CAAd;;AAMAN,MACGO,GADH,GAEGC,IAFH,CAEQ,YAAM;;AAEV,SAAO,qCAAiBX,IAAjB,GAA0BC,IAA1B,GAAmCC,MAAnC,EACL;AACEU,kBADF;AAEEC,aAAS,EAAE,gBAAgB,kBAAlB,EAFX;AAGEC,UAASC,KAAKC,SAAL,CAAe,EAAEC,KAAK,MAAP,EAAf;AAHX,GADK,EAMJN,IANI,CAMC;AAAA,WAAYO,SAASC,IAAT,EAAZ;AAAA,GAND,EAOJR,IAPI,CAOC;AAAA,WAAUH,QAAQC,GAAR,CAAYW,MAAZ,CAAV;AAAA,GAPD,EAQJC,KARI,CAQE;AAAA,WAASlB,MAAMM,GAAN,CAAUa,KAAV,CAAgBA,KAAhB,CAAT;AAAA,GARF,CAAP;AASD,CAbH,EAcGD,KAdH,CAcS;AAAA,SAASlB,MAAMM,GAAN,CAAUa,KAAV,CAAgBA,KAAhB,CAAT;AAAA,CAdT","file":"all.js","sourcesContent":["import fetch from 'node-fetch';\nimport Micro from './../';\n\nconst HOST = '127.0.0.1';\nconst PORT = 8000;\nconst prefix = '/act';\n\nconst micro = Micro({ host: HOST, port: PORT })\n  .add('cmd:ping', function ping() {\n    console.log('pong');\n    return 'pong';\n  });\n\nmicro\n  .run()\n  .then(() => {\n\n    return fetch(`http://${ HOST }${ PORT }${ prefix }`,\n      {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body   : JSON.stringify({ cmd: 'ping' })\n      })\n      .then(response => response.json())\n      .then(result => console.log(result))\n      .catch(error => micro.log.error(error));\n  })\n  .catch(error => micro.log.error(error))\n;\n"]}