{"version":3,"sources":["../../src/test/api.js"],"names":["worker","id","listen","host","port","use","label","add","ping","client","api","run","then","act","result","log","info","catch","error"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,MAAMA,SAAS,gBAAM,EAAEC,IAAI,QAAN,EAAgBC,QAAQ,EAAEC,MAAM,WAAR,EAAqBC,MAAM,IAA3B,EAAxB,EAAN,EACZC,GADY,CACR,0BAAiB,EAAEC,OAAO,QAAT,EAAjB,CADQ,EAEZC,GAFY,CAER,UAFQ,EAEI,SAASC,IAAT,GAAgB;AAAE,SAAO,MAAP;AAAe,CAFrC,CAAf;;AAIA,MAAMC,SAAS,gBAAM,EAAER,IAAI,QAAN,EAAN,EACZI,GADY,CACR,0BAAiB,EAAEC,OAAO,QAAT,EAAjB,CADQ,EAEZI,GAFY,CAER,QAFQ,EAEE,EAAEP,MAAM,WAAR,EAAqBC,MAAM,IAA3B,EAFF,CAAf;;AAIAJ,OACGW,GADH,GAEGC,IAFH,CAEQ,MAAMH,OAAOE,GAAP,EAFd,EAGGC,IAHH,CAGQ,MAAMH,OAAOI,GAAP,CAAW,sBAAX,CAHd,EAIGD,IAJH,CAIQE,UAAUL,OAAOM,GAAP,CAAWC,IAAX,CAAgB,UAAhB,EAA4BF,MAA5B,CAJlB,EAKGG,KALH,CAKSC,SAAST,OAAOM,GAAP,CAAWG,KAAX,CAAiB,UAAjB,EAA6BA,KAA7B,CALlB","file":"api.js","sourcesContent":["import Micro from './../';\nimport WinstonLogPlugin from './../plugins/log-winston';\n\nconst worker = Micro({ id: 'worker', listen: { host: '127.0.0.1', port: 8000 } })\n  .use(WinstonLogPlugin({ label: 'worker' }))\n  .add('cmd:ping', function ping() { return 'pong' });\n\nconst client = Micro({ id: 'client' })\n  .use(WinstonLogPlugin({ label: 'client' }))\n  .api('worker', { host: '127.0.0.1', port: 8000 });\n\nworker\n  .run()\n  .then(() => client.run())\n  .then(() => client.act('api:worker, cmd:ping'))\n  .then(result => client.log.info('cmd:ping', result))\n  .catch(error => client.log.error('cmd:ping', error));"]}