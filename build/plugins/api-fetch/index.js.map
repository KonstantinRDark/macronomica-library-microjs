{"version":3,"sources":["../../../src/plugins/api-fetch/index.js"],"names":["ApiFetchPlugin","app","name","settings","onClose","apiPin","add","del","Promise","resolve"],"mappings":";;;;;kBAGwBA,c;;AAHxB;;;;AACA;;;;;;AAEe,SAASA,cAAT,CAAwBC,GAAxB,EAAsD;AAAA,iFAAJ,EAAI;;AAAA,MAAvBC,IAAuB,QAAvBA,IAAuB;AAAA,MAAjBC,QAAiB,QAAjBA,QAAiB;;AACnEA,aAAW,6BAAcF,GAAd,EAAmBE,QAAnB,CAAX;;AAEA,SAAO,CAACF,GAAD,YAAsB;AAAA,QAAdG,OAAc,SAAdA,OAAc;;AAC3B,UAAMC,SAAU,QAAOH,IAAM,GAA7B;;AAEAD,QAAIK,GAAJ,CAAQD,MAAR,EAAgB,qBAAMJ,GAAN,EAAW,EAAEC,IAAF,EAAQC,QAAR,EAAX,CAAhB;;AAEAC,YAAQ,MAAMH,IAAIM,GAAJ,CAAQF,MAAR,CAAd;;AAEA,WAAOG,QAAQC,OAAR,EAAP;AACD,GARD;AASD","file":"index.js","sourcesContent":["import fetch from './methods/fetch'\nimport parseSettings from './utils/parse-settings'\n\nexport default function ApiFetchPlugin(app, { name, settings } = {}) {\n  settings = parseSettings(app, settings);\n\n  return (app, { onClose }) => {\n    const apiPin = `api:${ name }`;\n\n    app.add(apiPin, fetch(app, { name, settings }));\n\n    onClose(() => app.del(apiPin));\n\n    return Promise.resolve();\n  };\n}"]}