{"version":3,"sources":["../../../src/plugins/api-fetch/index.js"],"names":["ApiFetchPlugin","name","settings","microjs","onClose","apiPin","executeApi","add","del","Promise","resolve"],"mappings":";;;;;;;;kBAEwBA,c;;AAFxB;;;;;;;;AAEe,SAASA,cAAT,GAAoD;AAAA,iFAAJ,EAAI;;AAAA,MAA1BC,IAA0B,QAA1BA,IAA0B;AAAA,MAAjBC,QAAiB;;AACjE,SAAO,CAACC,OAAD,YAA0B;AAAA,QAAdC,OAAc,SAAdA,OAAc;;AAC/B,UAAMC,SAAU,QAAOJ,IAAM,GAA7B;AACA,UAAMK,aAAa,qBAAMH,OAAN,aAAiBF,IAAjB,IAA0BC,QAA1B,EAAnB;;AAEAC,YAAQI,GAAR,CAAYF,MAAZ,EAAoBC,UAApB;;AAEAF,YAAQ,MAAMD,QAAQK,GAAR,CAAYH,MAAZ,CAAd;;AAEA,WAAOI,QAAQC,OAAR,EAAP;AACD,GATD;AAUD","file":"index.js","sourcesContent":["import fetch from './methods/fetch'\n\nexport default function ApiFetchPlugin({ name, ...settings } = {}) {\n  return (microjs, { onClose }) => {\n    const apiPin = `api:${ name }`;\n    const executeApi = fetch(microjs, { name, ...settings });\n\n    microjs.add(apiPin, executeApi);\n\n    onClose(() => microjs.del(apiPin));\n\n    return Promise.resolve();\n  };\n}"]}