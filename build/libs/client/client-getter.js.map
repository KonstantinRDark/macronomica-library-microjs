{"version":3,"sources":["../../../src/libs/client/client-getter.js"],"names":["clientGetter","micro","name","client","clients","msg","actionId","action","error","code","message","logger","exec","api"],"mappings":";;;;;kBAEwBA,Y;;AAFxB;;AAEe,SAASA,YAAT,CAAsBC,KAAtB,EAA6BC,IAA7B,EAAmC;AAChD,MAAMC,SAASF,MAAMG,OAAN,CAAeF,IAAf,CAAf;;AAEA,MAAI,CAACC,MAAL,EAAa;AACX,QAAME,MAAM;AACVC,gBAAU,WADA;AAEVC,mCAFU;AAGVC,aAAU;AACRC,cAAS,sCADD;AAERC,wGAA8BR,IAA9B;AAFQ;AAHA,KAAZ;;AASAD,UAAMU,MAAN,CAAaH,KAAb,CAAmBH,IAAIG,KAAJ,CAAUE,OAA7B,EAAsCL,GAAtC;;AAEA,WAAO,EAAEO,MAAM,gBAAM,CAAE,CAAhB,EAAP;AACD;;AAED,SAAOT,OAAOU,GAAd;AACD","file":"client-getter.js","sourcesContent":["import {ACTION_ERR} from './constants';\n\nexport default function clientGetter(micro, name) {\n  const client = micro.clients[ name ];\n  \n  if (!client) {\n    const msg = {\n      actionId: '---------',\n      action  : ACTION_ERR,\n      error   : {\n        code   : 'error.client.getter/client.not.found',\n        message: `Клиент с именем \"${ name }\" не зарегистирован`\n      }\n    };\n\n    micro.logger.error(msg.error.message, msg);\n    \n    return { exec: () => {} };\n  }\n  \n  return client.api;\n}"]}