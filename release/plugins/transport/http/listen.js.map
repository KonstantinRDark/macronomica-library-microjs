{"version":3,"sources":["plugins/transport/http/listen.js"],"names":["jsonBodyParser","json","urlencodedParser","urlencoded","extended","preprocessors","micro","plugin","type","host","port","includes","handleRequest","req","res","_originalUrl","url","parse","query","pathname","error","code","message","logger","warn","payload","outJson","JSON","stringify","writeHead","Buffer","byteLength","statusMessage","end","method","err","pin","body","transport","origin","headers","time","Date","now","api","act","result","status","server","createServer","on","die","socket","setNoDelay","close","Promise","resolve","reject","info","id","listen"],"mappings":"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","file":"listen.js","sourceRoot":"../../../../src"}